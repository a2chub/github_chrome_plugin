# Phase 4: コア機能実装

## 概要
実際に価値を提供する機能（リポジトリリスト、Issueリスト、プロジェクトサマリー）を実装する。

## 目的
- Organization別にリポジトリリストが表示される
- メンションされたIssueリストが表示される
- 更新順のプロジェクトサマリーが表示される
- 各要素が設定に従って表示/非表示される
- データが定期的に更新される

## タスク

### 4.1 Organization別リポジトリリストの実装
- [ ] `GET /user/repos` API呼び出しの実装
  - 全リポジトリの取得
  - ページネーション対応（必要に応じて）
- [ ] `GET /orgs/{org}/repos` API呼び出しの実装
  - Organization別リポジトリの取得
- [ ] リポジトリデータのOrganization別グループ化
  - データの分類処理
  - Organization名によるグループ化
- [ ] 使用頻度・更新日時によるソート機能
  - ソートロジックの実装
  - ソート順の設定
- [ ] `src/content/components/repository-list.ts`の実装
  - リポジトリリストの表示
    - HTML要素の生成
    - スタイリング
  - リンクの生成
    - GitHubリポジトリへのリンク
  - 更新日時の表示
    - 相対時間の表示（例: "2時間前"）

### 4.2 メンションされたIssueリストの実装
- [ ] `GET /issues` API呼び出しの実装（メンションされたIssue取得）
  - フィルタパラメータの設定（`filter=mentioned`）
  - ページネーション対応
- [ ] Issueデータのフィルタリング（メンションのみ）
  - レスポンスデータのフィルタリング
  - 不要なIssueの除外
- [ ] `src/content/components/issue-list.ts`の実装
  - Issueリストの表示
    - HTML要素の生成
    - スタイリング
  - オープン/クローズ状態の表示
    - バッジやアイコンでの表示
  - リポジトリ名とIssueタイトルの表示
    - 情報の整理された表示
  - リンクの生成
    - GitHub Issueへのリンク
  - 更新日時の表示
    - 相対時間の表示

### 4.3 更新順プロジェクトサマリーの実装
- [ ] `GET /user/projects` API呼び出しの実装
  - ユーザーのプロジェクト一覧取得
- [ ] `GET /orgs/{org}/projects` API呼び出しの実装
  - Organizationのプロジェクト一覧取得
- [ ] プロジェクトデータの更新日時によるソート
  - ソートロジックの実装
  - 降順ソート（最新が上）
- [ ] `src/content/components/project-summary.ts`の実装
  - プロジェクトサマリーの表示
    - HTML要素の生成
    - スタイリング
  - 更新内容のサマリー表示
    - プロジェクト情報の要約
  - リンクの生成
    - GitHubプロジェクトへのリンク
  - 更新日時の表示
    - 相対時間の表示

### 4.4 レイアウト統合
- [ ] 各コンポーネントをレイアウトに統合
  - レイアウトマネージャーの実装
  - コンポーネントの配置
- [ ] 設定に基づく表示/非表示の制御
  - 設定読み込み
  - 条件分岐による表示制御
- [ ] 設定に基づく並び順の適用
  - 並び順の読み込み
  - DOM要素の並び替え

### 4.5 データ更新機能の実装
- [ ] 定期的なデータ更新機能（ポーリング）
  - タイマーの実装
  - 更新間隔の設定（例: 5分）
- [ ] 手動更新機能（リフレッシュボタン）
  - ボタンの実装
  - クリックイベントの処理
- [ ] 更新中のローディング表示
  - ローディングインジケーター
  - 状態管理

## 完了基準
- [x] Organization別にリポジトリリストが表示される
- [x] メンションされたIssueリストが表示される
- [x] 更新順のプロジェクトサマリーが表示される
- [x] 各要素が設定に従って表示/非表示される
- [x] データが定期的に更新される

## 見積もり時間
5-7日

## 依存関係
- Phase 2の完了が必要（設定画面とDOM操作基盤）
- Phase 3の完了が必要（GitHub API統合）

## 関連ドキュメント
- [要件定義書](../requirements.md)
- [設計書](../design.md)
- [実装計画](../implementation-plan.md)
- [GitHub API ドキュメント](https://docs.github.com/ja/rest)

